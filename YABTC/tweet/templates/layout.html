{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% block title %}
        itsjazzkun's Tweeter
        {% endblock %}
    </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">  <!-- Link to your custom CSS file -->
    <script src="{% static 'js/animations.js' %}" defer></script>  <!-- Link to the animations JS file -->
</head>
<body class="bg-gradient-to-r from-gray-900 to-black bg-opacity-75 text-white">
    <!-- Navbar -->
    <nav class="bg-gray-800 shadow-lg p-4">
        <div class="container mx-auto flex items-center justify-between">
            <!-- Left side - Tweeter Text -->
            <div class="flex items-center">
                <span class="text-2xl font-bold text-blue-500">Tweeter</span>
                <div class="ml-10">
                    <!-- Search Bar -->
                    <form method="GET" action="{% url 'tweet_search' %}" class="flex items-center">
                        <input type="text" name="query" placeholder="Search" value="{{ request.GET.query }}" class="bg-gray-700 text-gray-300 rounded-full px-4 py-2 transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <button type="submit" class="ml-2 bg-blue-500 text-white rounded-full px-4 py-2 hover:bg-blue-600 transition-transform hover:scale-105 duration-200">
                            Search
                        </button>
                    </form>
                </div>
            </div>

            <!-- Right side - Dropdown -->
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <button class="bg-gray-700 text-gray-300 px-4 py-2 rounded-md border border-gray-600 hover:text-blue-400" onclick="toggleDropdown()">
                        Options
                    </button>
                    <div id="dropdownMenu" class="absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-600 rounded-md shadow-lg hidden">
                        <a href="{% url 'user_login' %}" class="block px-4 py-2 text-gray-300 hover:bg-gray-700">Login</a>  <!-- Changed to user_login -->
                        <a href="{% url 'register' %}" class="block px-4 py-2 text-gray-300 hover:bg-gray-700">Register</a>
                        <a href="{% url 'user_logout' %}" class="block px-4 py-2 text-red-500 hover:bg-gray-700">Logout</a>  <!-- Updated to user_logout -->
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto p-8">
        {% block content %}
        <div class="fade-in">
            <!-- Content goes here -->
        </div>
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-4 text-center">
        <p>&copy; 2024 itsjazzkun's Website. All rights reserved.</p>
    </footer>

    <script>
        function toggleDropdown() {
            const dropdown = document.getElementById("dropdownMenu");
            dropdown.classList.toggle("hidden");
        }

        // Optional: Close the dropdown if clicked outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.bg-gray-700')) {
                const dropdowns = document.getElementsByClassName("hidden");
                for (let i = 0; i < dropdowns.length; i++) {
                    dropdowns[i].classList.add('hidden');
                }
            }
        };
    </script>
</body>
</html>
